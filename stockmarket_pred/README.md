预处理
-----

这些步骤应该不用重新直接，直接使用`data`目录下我已经处理好的数据即可 

可直接跳到`训练股市预测模型`

1. 运行`split_news.py`

    从路透社、彭博社新闻中抽取标题

2. 运行`reverb_preprocess.py`

    对标题数据进行预处理

3. 运行`reverb.sh`

    使用reverb事件抽取工具从新闻标题抽取事件

4. 运行`reverb_postprocess.py`

    对reverb输出文件进行后处理

5. 运行`event_to_id.py`

    把reverb抽取出的事件中单词替换成id

训练股市预测模型
-------------

1. 运行`build_dataset.sh`

    把其中的模型、输入输出文件路径改成你自己的路径

    该脚本会加载已经训练好的事件表示模型，将数据集中的每个事件变换为向量，再按日期切分训练、开发、测试集

    事件向量在此时固定，训练股市预测模型时不会再调整；这是因为股市预测模型会用到前1个月的所有事件，若要同时训练股市预测模型和事件表示模型显存无法承受

2. 运行`train.py`

    将其中的数据集文件替换成你自己的路径

    会在训练的同时汇报开发集、测试集上的结果

3. 如果需要单独跑测试集，执行`test.py`

文件说明
-------

- `[2015 IJCAI] Deep Learning for Event-Driven Stock Prediction.pdf`

    丁老师2015年的论文，介绍了股市预测模型与数据集划分

- `data/20061020_20131126_bloomberg_news.tar.gz`

    彭博社原始新闻数据

- `data/ReutersNews106521.tar.gz`

    路透社原始新闻数据

- `data/S&P500.csv`

    S&P500指数涨跌原始数据

- `data/cooked/reverb.pt`

    已经抽取并处理好的事件数据，后续应该只需要由该文件计算事件向量表示，并结合`data/S&P500.csv`训练模式预测模型即可

- `event_to_embedding.py`

    使用已训练好的事件表示模型，为股市预测数据集中每个事件计算向量表示

- `event_stock_align.py`

    将事件向量与股市涨跌标签对齐，并按日期切分训练集、开发集、测试集

- `train.py`

    加载已计算好的事件向量，训练股市预测模型，并汇报开发集和测试集的结果
